안드로이드 코틀린 공부
=====================

## 앱 아키텍쳐

#### 모바일 앱 사용자 환경
- 일반적인 Android 앱에는 활동, 프래그먼트, 서비스, 콘텐츠 제공업체, broadcast receiver를 비롯하여 여러 앱 구성요소가 포함
- 개발자는 manifest파일에서 이러한 앱 구성요소 대부분을 선언하며, Android에서 이 파일을 사용하여 기기의 전반적인 사용자 환경에 앱을 통합하는 방법을 결정
- 사용자가 짧은 시간 내에 여러 앱과 상호작용할 때도 많다는 점을 고려하면, 앱은 사용자 중심의 다양한 워크플로 및 작업에 맞게 조정가능해야 함

- 휴대기기는 리소스가 제한되어 있으므로, 운영체제에서 새로운 앱을 위한 공간을 확보하도록 언제든지 일부 앱 프로세스를 종료가능해야 함

- 이러한 환경 조건을 고려해 볼 때 앱 구성요소는 개별적이고 비순차적으로 실행될 수 있으며, 운영체제나 사용자가 언제든지 앱 구성요소를 제거할 수 있어야 함
- 이러한 이벤트는 직접 제어할 수 없기 때문에 앱 구성요소에 애플리케이션 데이터나 상태를 저장해서는 안 되며 앱 구성요소가 서로 종속되면 안 됨

#### 일반적인 아키텍처 원칙
- 관심사 분리 
  + 클래스를 최대한 가볍게 유지하며 클래스에 대한 의존성을 최소화 해야함
- 데이터 모델에서 UI도출
  + 데이터 모델은 앱의 데이터를 의미
  + 목적1) 리소스 확보를 위해 앱을 제거해도 사용자의 데이터가 삭제되지 않음
  + 목적2) 네트워크 에러가 생겨도 앱은 계속 작동

#### 권장 앱 아키텍쳐
![image](https://user-images.githubusercontent.com/83804417/155471966-75136904-0793-480c-9f6f-5c25916404e7.png)
- UI Layer : 화면에 표현되는 레이어
  + 화면에 렌더링되는 UI 요소
  + 데이터를 보유하며 이를 UI에 노출하며 로직을 처리하는 상태 홀더(state holder) (ex. ViewModel 클래스)
- Data Layer : 비즈니스 로직을 포함하고 데이터를 노출하는 레이어
  + 앱의 데이터 생성, 저장, 변경 방식을 결정하는 규칙으로 구성
  + 다양한 repository 존재
- Domain Layer : UI Layer 와 Data Layer간의 상호작용을 간소화 및 재사용하기 위한 레이어
  + 선택사항(의무X)
  + 복잡한 비즈니스 로직과 여러 ViewModel에서 재사용되는 비즈니스 로직의 캡슐화를 담당

#### 일반적인 권장사항
- Android클래스의 종속 항목을 줄인다
- 모듈간 경계를 확실히 정의한다
- 앱의 고유한 핵심에 초점을 맞춘다
- 앱의 각 부분을 독립적으로 테스트하는 방법을 고려한다
- 가능한 한 관련성이 높은 최신 데이터를 보존한다
